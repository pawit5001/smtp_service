(self.webpackChunksmtp_email_sender_frontend=self.webpackChunksmtp_email_sender_frontend||[]).push([[444],{477(){},619(e,t,a){"use strict";a.r(t),a.d(t,{decryptAccounts:()=>i,encryptAccounts:()=>c,loadAccounts:()=>d,saveAccounts:()=>n});var r=a(6111),s=a.n(r);const l="user_email_accounts",o="snapmail2026";function c(e){const t=JSON.stringify(e);return s().AES.encrypt(t,o).toString()}function i(e){try{const t=s().AES.decrypt(e,o).toString(s().enc.Utf8);return JSON.parse(t)}catch(t){return[]}}function n(e){localStorage.setItem(l,c(e))}function d(){const e=localStorage.getItem(l);return e?i(e):[]}},3032(e,t,a){"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5043),s=a(7432),l=a(579);const o=()=>{const e=["scavelli20322@outlook.com:E9KFDQHK72:M.C525_BAY.0.U.-Cr2ahYnR0lKDamU!PsNLhZjitfSxG5nWVXX*e80FlN2v7ds8KjPnQJS49uWLNeSjm28StMZzxrMDkZcG!VCOEbLQPoAL47VUKF5LArrGFFumN1EEIdrJGgTsic31r3jgjWD9M6APy13ZA*Z!acADB0!UTuGWd9EDoX8fzHXz6pMRv7N25!UnxpP6xAVIkAiMO3Oc8y2qxUmXn*9H85yR6rzKHFxAfmJjVtR3QXkWrFo8svzckWd!1xEmQFuCpJf5yTqJT9HTPERq1WSTWSpuuKo4P*U9k3MMP5IbGbzf1q77GeNa3zEOBf0V6RBRH04N!JViKhoYPHg66SMg1pEcC35!ykJOdFDP5B87SRO3ue3JwMNC2BYvKSnvLzLvTOsdK140o8uwMKOTz01OGSHG7pnCKcQvWlyVw9RAFvdRkkcG2Utm9bL0JLMSZFZlpnKyo*Pm9EuZwpMI33ARhKQsYA4$:9e5f94bc-e8a4-4e73-b8be-63364c29d753","xvrifkhiss3889@hotmail.com|btkulnpgqc6633|M.C514_BAY.0.U.-CtJ7GCOdTQTBpb9P4kmJIg21RM72jCtBfhs0UTewbfrvLjb5Qi63vsnpSQoMrDnZmQ1M7wBZS2JdvFMM5xFmj2xcqDA6adQ6Qj3voyxcA!m8OzrSYOO4gn0KQkfeaoBBTIDAJxtrDy3CZy99MaoXzOqud8Iw22Pivbe0!G1vUXlDtOouwHAkuHCk!ErR8i5JRWZgpjKlKyCl18uubG*4HMoRo2yEo1cSnkHjImCRNa2GQ5SaVrMLTK8OUZTdHxaSau8zaejKaDXIdMXvjpXSW6KZxY9tHfIG1ANpb0o!2SFSsYmPyZQ59E8gjxlJYFe564wXlobB00G6TUO9f9Qzys5NEOPl5zx28vGMgP6alrIcA1HrX!ZpQIu3NbfmzWvGk1izNpFWpdbZyP0Z4sSiJmf6NMaN1bog5E9zxdZI9Y5y|9e5f94bc-e8a4-4e73-b8be-63364c29d753"],[t,o]=(0,r.useState)(()=>{try{const{loadAccounts:t}=a(619);let r=t();return e.forEach(e=>{const t=e.split(/[|:]/)[0];r.some(e=>e.split(/[|:]/)[0]===t)||r.push(e)}),r.sort((e,t)=>{const a=e.split(/[|:]/)[0],r=t.split(/[|:]/)[0],s=["scavelli20322@outlook.com","xvrifkhiss3889@hotmail.com"].includes(a),l=["scavelli20322@outlook.com","xvrifkhiss3889@hotmail.com"].includes(r);return s&&l?a.localeCompare(r):s&&!l?-1:!s&&l?1:a.localeCompare(r)}),r}catch(t){return[...e].sort((e,t)=>{const a=e.split(/[|:]/)[0],r=t.split(/[|:]/)[0],s=["scavelli20322@outlook.com","xvrifkhiss3889@hotmail.com"].includes(a),l=["scavelli20322@outlook.com","xvrifkhiss3889@hotmail.com"].includes(r);return s&&l?a.localeCompare(r):s&&!l?-1:!s&&l?1:a.localeCompare(r)})}}),c="messageform_selected_account_idx",[i,n]=(0,r.useState)(()=>(e=>{const t=localStorage.getItem(c);return t&&!isNaN(Number(t))&&e[Number(t)]?Number(t):Math.max(0,e.findIndex(e=>"scavelli20322@outlook.com"===e.split(/[|:]/)[0]))})((()=>{try{const{loadAccounts:t}=a(619);let r=t();return e.forEach(e=>{const t=e.split(/[|:]/)[0];r.some(e=>e.split(/[|:]/)[0]===t)||r.push(e)}),r}catch(t){return[...e]}})()));r.useEffect(()=>{localStorage.setItem(c,String(i))},[i]);let d="xvrifkhiss3889@hotmail.com",m=!0;if(t.length>0&&t[i]){const e=t[i].includes("|")?"|":t[i].includes(":")?":":"|";d=t[i].split(e)[0],m=!1}const x="message_form_cache",u=(()=>{try{return JSON.parse(localStorage.getItem(x)||"{}")}catch(e){return{}}})(),[p,g]=(0,r.useState)(u.recipient||""),[h,y]=(0,r.useState)(u.cc||""),[b,f]=(0,r.useState)(u.subject||""),[k,v]=(0,r.useState)(u.body||""),[j,N]=(0,r.useState)(!1),[w,S]=(0,r.useState)(u.displayName||"admin_snaptranslate"),[M,A]=(0,r.useState)(u.sendMethod||"graphapi"),[C,E]=(0,r.useState)(null);r.useEffect(()=>{localStorage.setItem(x,JSON.stringify({recipient:p,cc:h,subject:b,body:k,displayName:w,sendMethod:M}))},[p,h,b,k,w,M]);const O="graphapi"===M,R=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);return(0,l.jsxs)("form",{className:"max-w-xl mx-auto bg-white dark:bg-gray-900 rounded-xl shadow-md p-6 flex flex-col gap-4",onSubmit:async e=>{e.preventDefault();const a=p.split(",").map(e=>e.trim()).filter(Boolean),r=h.split(",").map(e=>e.trim()).filter(Boolean);if(0===a.length)return void s.oR.error("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 1 \u0e04\u0e19");const l=a.filter(e=>!R(e)).concat(r.filter(e=>!R(e)));if(l.length>0)s.oR.error("\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07: "+l.join(", "));else{N(!0);try{let e="https://smtp-service-1i1o.onrender.com";e||(e="127.0.0.1"===window.location.hostname?"http://127.0.0.1:8000":"http://localhost:8000");const l=t.length>0&&t[i]?t[i]:null;let o,c;const n=new FormData;if(a.forEach(e=>n.append("recipient",e)),r.forEach(e=>n.append("cc",e)),n.append("subject",b),n.append("body",k),n.append("display_name",w),n.append("send_method",M),l&&n.append("credentials",l),C&&C.length>0)for(let t=0;t<C.length;t++)n.append("attachments",C[t]);if(o=await fetch("".concat(e,"/send-email/"),{method:"POST",headers:{Authorization:"Bearer ".concat("pawit_snaptranslate")},body:n}),c=await o.json(),o.ok&&c.results){let e=0,t=0,a=[];c.results.forEach(r=>{r.success?e++:(t++,a.push(r.recipient))}),e>0&&(s.oR.success("\u0e2a\u0e48\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08 ".concat(e," \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23")),g(""),y(""),f(""),v(""),E(null),localStorage.removeItem(x)),t>0&&s.oR.error("\u0e2a\u0e48\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08 ".concat(t," \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23: ").concat(a.join(", ")))}else c&&c.detail&&"string"===typeof c.detail&&c.detail.includes("invalid_grant")?s.oR.error("Token \u0e2b\u0e21\u0e14\u0e2d\u0e32\u0e22\u0e38\u0e2b\u0e23\u0e37\u0e2d\u0e2a\u0e34\u0e17\u0e18\u0e34\u0e4c\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07 \u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e43\u0e2b\u0e21\u0e48\u0e2b\u0e23\u0e37\u0e2d authorize \u0e43\u0e2b\u0e21\u0e48\u0e43\u0e19 Microsoft Azure Portal"):c&&c.detail&&"string"===typeof c.detail&&c.detail.includes("AADSTS70000")?s.oR.error("Microsoft OAuth2: \u0e2a\u0e34\u0e17\u0e18\u0e34\u0e4c (scope) \u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07\u0e2b\u0e23\u0e37\u0e2d\u0e2b\u0e21\u0e14\u0e2d\u0e32\u0e22\u0e38 \u0e01\u0e23\u0e38\u0e13\u0e32 authorize \u0e43\u0e2b\u0e21\u0e48\u0e43\u0e19 Microsoft Azure Portal"):s.oR.error(c.detail||"\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e2a\u0e48\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25")}catch(o){s.oR.error("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d\u0e40\u0e0b\u0e34\u0e23\u0e4c\u0e1f\u0e40\u0e27\u0e2d\u0e23\u0e4c")}N(!1)}},children:[(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"\u0e2a\u0e48\u0e07\u0e08\u0e32\u0e01\u0e1a\u0e31\u0e0d\u0e0a\u0e35"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("span",{className:"text-gray-800 dark:text-gray-100 font-semibold",children:[d,["scavelli20322@outlook.com","xvrifkhiss3889@hotmail.com"].includes(d)&&(0,l.jsx)("span",{className:"text-blue-500 font-normal text-xs ml-1",children:"(\u0e04\u0e48\u0e32\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19)"})]}),(0,l.jsx)("select",{className:"ml-2 border rounded px-2 py-1 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700",value:i,onChange:e=>n(Number(e.target.value)),title:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e2a\u0e48\u0e07",children:t.map((e,t)=>{const a=e.includes("|")?"|":e.includes(":")?":":"|",r=e.split(a)[0],s=["scavelli20322@outlook.com","xvrifkhiss3889@hotmail.com"].includes(r);return(0,l.jsxs)("option",{value:t,children:[r,s?" (\u0e04\u0e48\u0e32\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19)":""]},t)})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:["\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e2a\u0e48\u0e07 (Display Name) ",(0,l.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"(\u0e44\u0e21\u0e48\u0e1a\u0e31\u0e07\u0e04\u0e31\u0e1a)"})]}),(0,l.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700",value:w,onChange:e=>S(e.target.value),placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e17\u0e35\u0e48\u0e08\u0e30\u0e41\u0e2a\u0e14\u0e07\u0e43\u0e19\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a",title:"\u0e0a\u0e37\u0e48\u0e2d\u0e17\u0e35\u0e48\u0e08\u0e30\u0e41\u0e2a\u0e14\u0e07\u0e43\u0e19\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a",disabled:O}),O&&(0,l.jsx)("div",{className:"text-xs text-yellow-600 mt-1",children:"* Microsoft Graph API \u0e44\u0e21\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19 Display Name (\u0e08\u0e30\u0e43\u0e0a\u0e49\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e31\u0e0d\u0e0a\u0e35 Microsoft \u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:["\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700",value:p,onChange:e=>g(e.target.value),placeholder:"ex: a@email.com, b@email.com, c@email.com",title:"\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a\u0e2b\u0e25\u0e32\u0e22\u0e04\u0e19\u0e04\u0e31\u0e48\u0e19\u0e14\u0e49\u0e27\u0e22 , (comma)",required:!0}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["* \u0e2a\u0e48\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e16\u0e36\u0e07\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a\u0e2b\u0e25\u0e32\u0e22\u0e04\u0e19\u0e04\u0e31\u0e48\u0e19\u0e14\u0e49\u0e27\u0e22 , (comma)",(0,l.jsxs)("div",{className:"mt-1 px-2 py-1 bg-yellow-50 border border-yellow-300 rounded text-yellow-700",children:[(0,l.jsx)("span",{className:"font-semibold",children:"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07:"})," a@email.com, b@email.com, c@email.com"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:["CC (\u0e2a\u0e33\u0e40\u0e19\u0e32\u0e16\u0e36\u0e07) ",(0,l.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"(\u0e44\u0e21\u0e48\u0e1a\u0e31\u0e07\u0e04\u0e31\u0e1a)"})]}),(0,l.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700",value:h,onChange:e=>y(e.target.value),placeholder:"ex: cc1@email.com, cc2@email.com",title:"\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e35\u0e40\u0e21\u0e25 CC \u0e2b\u0e25\u0e32\u0e22\u0e04\u0e19\u0e04\u0e31\u0e48\u0e19\u0e14\u0e49\u0e27\u0e22 , (comma)"}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["* \u0e2a\u0e48\u0e07\u0e2a\u0e33\u0e40\u0e19\u0e32\u0e16\u0e36\u0e07\u0e2b\u0e25\u0e32\u0e22\u0e04\u0e19\u0e04\u0e31\u0e48\u0e19\u0e14\u0e49\u0e27\u0e22 , (comma)",(0,l.jsxs)("div",{className:"mt-1 px-2 py-1 bg-yellow-50 border border-yellow-300 rounded text-yellow-700",children:[(0,l.jsx)("span",{className:"font-semibold",children:"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07:"})," cc1@email.com, cc2@email.com"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:["\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700",value:b,onChange:e=>f(e.target.value),placeholder:"\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d\u0e2d\u0e35\u0e40\u0e21\u0e25",title:"\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d\u0e2d\u0e35\u0e40\u0e21\u0e25",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:["\u0e40\u0e19\u0e37\u0e49\u0e2d\u0e2b\u0e32 ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("textarea",{className:"w-full border rounded px-3 py-2 text-sm min-h-[120px] bg-white dark:bg-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700",value:k,onChange:e=>v(e.target.value),placeholder:"\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21...",title:"\u0e40\u0e19\u0e37\u0e49\u0e2d\u0e2b\u0e32\u0e2d\u0e35\u0e40\u0e21\u0e25",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:["\u0e41\u0e19\u0e1a\u0e44\u0e1f\u0e25\u0e4c (\u0e16\u0e49\u0e32\u0e21\u0e35) ",(0,l.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"(\u0e44\u0e21\u0e48\u0e1a\u0e31\u0e07\u0e04\u0e31\u0e1a)"})]}),(0,l.jsx)("input",{type:"file",className:"w-full border rounded px-3 py-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700",multiple:!0,onChange:e=>E(e.target.files),title:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e44\u0e1f\u0e25\u0e4c\u0e41\u0e19\u0e1a"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("label",{className:"font-medium dark:text-gray-200",htmlFor:"send-method-select",children:"\u0e27\u0e34\u0e18\u0e35\u0e2a\u0e48\u0e07:"}),(0,l.jsxs)("select",{id:"send-method-select",className:"border rounded px-2 py-1 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700",value:M,onChange:e=>A(e.target.value),title:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e2a\u0e48\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25",children:[(0,l.jsx)("option",{value:"graphapi",children:"Microsoft Graph API"}),(0,l.jsx)("option",{value:"smtp",children:"SMTP"})]})]}),(0,l.jsxs)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded shadow disabled:opacity-50 flex items-center justify-center gap-2",disabled:j,children:[j&&(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),j?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2a\u0e48\u0e07...":"\u0e2a\u0e48\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25"]})]})},c=()=>(0,l.jsx)("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,l.jsx)("div",{className:"w-full max-w-4xl px-4 py-6",children:(0,l.jsx)(o,{})})})}}]);
//# sourceMappingURL=444.e000e003.chunk.js.map