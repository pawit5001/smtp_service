{"version":3,"file":"static/js/382.8d1088fe.chunk.js","mappings":"4PAGA,MAAMA,EAAc,sBACdC,EAAS,eAER,SAASC,EAAgBC,GAC9B,MAAMC,EAAOC,KAAKC,UAAUH,GAC5B,OAAOI,IAAAA,IAAaC,QAAQJ,EAAMH,GAAQQ,UAC5C,CAEO,SAASC,EAAgBC,GAC9B,IACE,MACMC,EADQL,IAAAA,IAAaM,QAAQF,EAAYV,GACvBQ,SAASF,IAAAA,IAAaO,MAC9C,OAAOT,KAAKU,MAAMH,EACpB,CAAE,MAAAI,GACA,MAAO,EACT,CACF,CAEO,SAASC,EAAad,GAC3Be,aAAaC,QAAQnB,EAAaE,EAAgBC,GACpD,CAEO,SAASiB,IACd,MAAMC,EAASH,aAAaI,QAAQtB,GACpC,OAAKqB,EACEX,EAAgBW,GADH,EAEtB,C,+ECzBA,MA2CA,EA3C8BE,KAEtB,MAAOpB,EAAUqB,IAAeC,EAAAA,EAAAA,UAAgB,KAC5C,IACI,MAAM,aAAEL,GAAiBM,EAAQ,KACjC,OAAON,GACX,CAAE,MAAAJ,GACE,MAAO,EACX,KAEGW,EAAoBC,IAAyBH,EAAAA,EAAAA,UAAS,GAC7D,IAAII,EAAc,6BACdC,GAAY,EAChB,GAAI3B,EAAS4B,OAAS,GAAK5B,EAASwB,GAAqB,CACrD,MAAMK,EAAM7B,EAASwB,GAAoBM,SAAS,KAAO,IAAM9B,EAASwB,GAAoBM,SAAS,KAAO,IAAM,IAClHJ,EAAc1B,EAASwB,GAAoBO,MAAMF,GAAK,GACtDF,GAAY,CAChB,CACJ,MAAOK,EAAWC,IAAgBX,EAAAA,EAAAA,UAAS,KACpCY,EAASC,IAAcb,EAAAA,EAAAA,UAAS,KAChCc,EAAMC,IAAWf,EAAAA,EAAAA,UAAS,KAC1BgB,EAASC,IAAcjB,EAAAA,EAAAA,WAAS,IAChCkB,EAAaC,IAAkBnB,EAAAA,EAAAA,UAAS,wBACxCoB,EAAYC,IAAiBrB,EAAAA,EAAAA,UAA8B,aAC3DsB,EAAOC,IAAYvB,EAAAA,EAAAA,UAA0B,MAgBpD,OAAO,M,aCxCX,MAQA,EARuBwB,KAEfC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qCAAoCC,UAC/CF,EAAAA,EAAAA,KAAC3B,EAAW,K","sources":["utils/crypto.ts","components/MessageForm.tsx","pages/Home.tsx"],"sourcesContent":["// src/utils/crypto.ts\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst STORAGE_KEY = 'user_email_accounts';\r\nconst SECRET = 'snapmail2026'; // ควรเปลี่ยนเป็น env ใน production\r\n\r\nexport function encryptAccounts(accounts: any[]): string {\r\n  const data = JSON.stringify(accounts);\r\n  return CryptoJS.AES.encrypt(data, SECRET).toString();\r\n}\r\n\r\nexport function decryptAccounts(ciphertext: string): any[] {\r\n  try {\r\n    const bytes = CryptoJS.AES.decrypt(ciphertext, SECRET);\r\n    const decrypted = bytes.toString(CryptoJS.enc.Utf8);\r\n    return JSON.parse(decrypted);\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function saveAccounts(accounts: any[]) {\r\n  localStorage.setItem(STORAGE_KEY, encryptAccounts(accounts));\r\n}\r\n\r\nexport function loadAccounts(): any[] {\r\n  const cipher = localStorage.getItem(STORAGE_KEY);\r\n  if (!cipher) return [];\r\n  return decryptAccounts(cipher);\r\n}\r\n","import React, { useState } from 'react';\nimport { toast } from 'react-toastify';\n\n\nconst MessageForm: React.FC = () => {\n        // Multi-account selection\n        const [accounts, setAccounts] = useState<any[]>(() => {\n            try {\n                const { loadAccounts } = require('../utils/crypto');\n                return loadAccounts();\n            } catch {\n                return [];\n            }\n        });\n        const [selectedAccountIdx, setSelectedAccountIdx] = useState(0);\n        let activeEmail = 'xvrifkhiss3889@hotmail.com';\n        let isDefault = true;\n        if (accounts.length > 0 && accounts[selectedAccountIdx]) {\n            const sep = accounts[selectedAccountIdx].includes('|') ? '|' : accounts[selectedAccountIdx].includes(':') ? ':' : '|';\n            activeEmail = accounts[selectedAccountIdx].split(sep)[0];\n            isDefault = false;\n        }\n    const [recipient, setRecipient] = useState('');\n    const [subject, setSubject] = useState('');\n    const [body, setBody] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [displayName, setDisplayName] = useState('admin_snaptranslate');\n    const [sendMethod, setSendMethod] = useState<'graphapi' | 'smtp'>('graphapi');\n    const [files, setFiles] = useState<FileList | null>(null);\n\n    const validateEmail = (email: string) => {\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!recipient || !validateEmail(recipient)) {\n            toast.error('กรุณากรอกอีเมลผู้รับให้ถูกต้อง');\n            return;\n        }\n        // ...rest of the submit logic...\n    };\n\n    // ...existing code for rendering the form (not shown here)...\n    return null; // TODO: Replace with actual form JSX\n}\n\nexport default MessageForm;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport MessageForm from '../components/MessageForm';\n\nconst Home: React.FC = () => {\n    return (\n        <div className=\"max-w-4xl mx-auto w-full px-4 py-6\">\n            <MessageForm />\n        </div>\n    );\n};\n\nexport default Home;"],"names":["STORAGE_KEY","SECRET","encryptAccounts","accounts","data","JSON","stringify","CryptoJS","encrypt","toString","decryptAccounts","ciphertext","decrypted","decrypt","Utf8","parse","_unused","saveAccounts","localStorage","setItem","loadAccounts","cipher","getItem","MessageForm","setAccounts","useState","require","selectedAccountIdx","setSelectedAccountIdx","activeEmail","isDefault","length","sep","includes","split","recipient","setRecipient","subject","setSubject","body","setBody","loading","setLoading","displayName","setDisplayName","sendMethod","setSendMethod","files","setFiles","Home","_jsx","className","children"],"ignoreList":[],"sourceRoot":""}